(function(){"use strict";function A(r,e){var n=E(r),i=n.tag,t=n.id,o=n.className,l=e?document.createElementNS(e,i):document.createElement(i);return t&&(l.id=t),o&&(e?l.setAttribute("class",o):l.className=o),l}function E(r){for(var e=r.split(/([.#])/),n="",i="",t=1;t<e.length;t+=2)switch(e[t]){case".":n+=" "+e[t+1];break;case"#":i=e[t+1]}return{className:n.trim(),tag:e[0]||"div",id:i}}function k(r,e,n){var i=e.__redom_lifecycle;if(y(i)){e.__redom_lifecycle={};return}var t=n;for(e.__redom_mounted&&f(e,"onunmount");t;){var o=t.__redom_lifecycle||{};for(var l in i)o[l]&&(o[l]-=i[l]);y(o)&&(t.__redom_lifecycle=null),t=t.parentNode}}function y(r){if(r==null)return!0;for(var e in r)if(r[e])return!1;return!0}var C=["onmount","onremount","onunmount"],j=typeof window<"u"&&"ShadowRoot"in window;function h(r,e,n,i){var t=u(r),o=u(e);e===o&&o.__redom_view&&(e=o.__redom_view),e!==o&&(o.__redom_view=e);var l=o.__redom_mounted,a=o.parentNode;if(l&&a!==t&&k(e,o,a),n!=null)if(i){var d=u(n);d.__redom_mounted&&f(d,"onunmount"),t.replaceChild(o,d)}else t.insertBefore(o,u(n));else t.appendChild(o);return T(e,o,t,a),e}function f(r,e){e==="onmount"||e==="onremount"?r.__redom_mounted=!0:e==="onunmount"&&(r.__redom_mounted=!1);var n=r.__redom_lifecycle;if(n){var i=r.__redom_view,t=0;i&&i[e]&&i[e]();for(var o in n)o&&t++;if(t)for(var l=r.firstChild;l;){var a=l.nextSibling;f(l,e),l=a}}}function T(r,e,n,i){for(var t=e.__redom_lifecycle||(e.__redom_lifecycle={}),o=n===i,l=!1,a=0,d=C;a<d.length;a+=1){var _=d[a];o||r!==e&&_ in r&&(t[_]=(t[_]||0)+1),t[_]&&(l=!0)}if(!l){e.__redom_lifecycle={};return}var c=n,m=!1;for((o||c&&c.__redom_mounted)&&(f(e,o?"onremount":"onmount"),m=!0);c;){var v=c.parentNode,q=c.__redom_lifecycle||(c.__redom_lifecycle={});for(var p in t)q[p]=(q[p]||0)+t[p];if(m)break;(c.nodeType===Node.DOCUMENT_NODE||j&&c instanceof ShadowRoot||v&&v.__redom_mounted)&&(f(c,o?"onremount":"onmount"),m=!0),c=v}}function I(r,e,n){var i=u(r);if(typeof e=="object")for(var t in e)b(i,t,e[t]);else b(i,e,n)}function b(r,e,n){r.style[e]=n??""}var g="http://www.w3.org/1999/xlink";function w(r,e,n,i){var t=u(r),o=typeof e=="object";if(o)for(var l in e)w(t,l,e[l],i);else{var a=t instanceof SVGElement,d=typeof n=="function";if(e==="style"&&typeof n=="object")I(t,n);else if(a&&d)t[e]=n;else if(e==="dataset")N(t,n);else if(!a&&(e in t||d)&&e!=="list")t[e]=n;else{if(a&&e==="xlink"){S(t,n);return}i&&e==="class"&&(n=t.className+" "+n),n==null?t.removeAttribute(e):t.setAttribute(e,n)}}}function S(r,e,n){if(typeof e=="object")for(var i in e)S(r,i,e[i]);else n!=null?r.setAttributeNS(g,e,n):r.removeAttributeNS(g,e,n)}function N(r,e,n){if(typeof e=="object")for(var i in e)N(r,i,e[i]);else n!=null?r.dataset[e]=n:delete r.dataset[e]}function L(r){return document.createTextNode(r??"")}function x(r,e,n){for(var i=0,t=e;i<t.length;i+=1){var o=t[i];if(!(o!==0&&!o)){var l=typeof o;l==="function"?o(r):l==="string"||l==="number"?r.appendChild(L(o)):M(u(o))?h(r,o):o.length?x(r,o,n):l==="object"&&w(r,o,null,n)}}}function u(r){return r.nodeType&&r||!r.el&&r||u(r.el)}function M(r){return r&&r.nodeType}function s(r){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var i,t=typeof r;if(t==="string")i=A(r);else if(t==="function"){var o=r;i=new(Function.prototype.bind.apply(o,[null].concat(e)))}else throw new Error("At least one argument required");return x(u(i),e,!0),i}var O=s;s.extend=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return s.bind.apply(s,[this].concat(r))};const D=`.chat-line__username-container{padding:1px 6px;border:2px solid #fff;border-radius:50px!important;margin-right:5px}span[data-test-selector=chat-message-separator]{display:none}.chat-badge{border-radius:8px!important}
`;GM_addStyle(D);const R=()=>{const r=t=>{const o=t.querySelector(".chat-author__display-name");let l=null;o&&(l=window.getComputedStyle(o).color),t.style.color!==l&&(t.style.color=l);const a=t.querySelector(".chat-line__username-container");a.style.borderColor!==l&&(a.style.borderColor=l)},e=t=>{t.forEach(o=>r(o))};let n=document.querySelectorAll(".chat-line__no-background");e(n);let i="";setInterval(()=>{const t=window.location.href;if(t!==i){i=t;let o=new MutationObserver(()=>{n=document.querySelectorAll(".chat-line__no-background"),e(n)}),l=document.querySelector(".chat-scrollable-area__message-container");o.observe(l,{childList:!0})}},500),addEventListener("click",()=>{const t=document.querySelector(".chat-input-tray__open");let o;o=setInterval(()=>{if(t){const l=t.querySelectorAll(".chat-line__no-background");e(l)}},100),setTimeout(()=>clearInterval(o),600)})},B=document.querySelector("#root");window.addEventListener("load",()=>{h(B,O("")),R()})})();
